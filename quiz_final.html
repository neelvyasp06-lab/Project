<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quiz App - Final 50 Marks</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      transition: background-image 1s ease-in-out;
      background-image: url('https://images.unsplash.com/photo-1519389950473-47ba0277781c?auto=format&fit=crop&w=1600&q=80');
      background-size: cover;
      background-position: center;
      height: 100vh;
      font-family: 'Poppins', sans-serif;
      position: relative;
      color: white;
      overflow: hidden;
    }

    /* Dark overlay */
    body::before {
      content: "";
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.55);
      z-index: 0;
    }

    .glass {
      position: relative;
      z-index: 1;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-radius: 16px;
      padding: 2rem;
      box-shadow: 0 8px 32px rgba(0,0,0,0.3);
      animation: fadeIn 1s ease-in-out;
    }

    /* Animation */
    @keyframes fadeIn {
      0% { opacity: 0; transform: translateY(30px); }
      100% { opacity: 1; transform: translateY(0); }
    }

    button {
      transition: all 0.3s ease;
    }
    button:hover {
      transform: scale(1.05);
    }

    /* Smooth fade for background change */
    .fade {
      animation: fadeBg 1s ease-in-out;
    }

    @keyframes fadeBg {
      from { opacity: 0.7; }
      to { opacity: 1; }
    }
  </style>
</head>
<body class="flex items-center justify-center">

  <!-- Start Screen -->
  <div id="start-screen" class="glass text-center w-[90%] md:w-[400px]">
    <h1 class="text-3xl font-bold mb-6 text-white drop-shadow-md animate-fade-in">üåê Welcome to the Quiz App</h1>
    <p class="mb-6 text-white/80 animate-fade-in delay-200">Test your web technology knowledge in 5 fun questions!</p>
    <div class="space-x-4 animate-fade-in delay-400">
      <button id="start-btn" class="bg-green-500 text-white px-6 py-2 rounded-full font-semibold hover:bg-green-600 shadow-lg">Start Quiz</button>
      <button id="exit-btn" class="bg-red-500 text-white px-6 py-2 rounded-full font-semibold hover:bg-red-600 shadow-lg">Exit</button>
    </div>
  </div>

  <!-- Quiz Box -->
  <div id="quiz-box" class="hidden glass text-center w-[90%] md:w-[500px] text-white">
    <div class="flex justify-between items-center mb-4">
      <h2 id="question-number" class="text-lg font-semibold"></h2>
      <div id="timer" class="text-lg font-bold"></div>
    </div>
    <h3 id="question-text" class="text-xl mb-4"></h3>
    <div id="options" class="space-y-3"></div>
  </div>

  <!-- Result Screen -->
  <div id="result-screen" class="hidden glass text-center w-[90%] md:w-[400px] text-white">
    <h2 class="text-2xl font-bold mb-4">üéâ Quiz Completed!</h2>
    <p id="score-text" class="text-xl mb-6"></p>
    <button id="restart-btn" class="bg-green-500 text-white px-6 py-2 rounded-full font-semibold hover:bg-green-600">Restart</button>
  </div>

  <script>
    const startScreen = document.getElementById("start-screen");
    const quizBox = document.getElementById("quiz-box");
    const resultScreen = document.getElementById("result-screen");
    const questionNumber = document.getElementById("question-number");
    const questionText = document.getElementById("question-text");
    const optionsDiv = document.getElementById("options");
    const timerDisplay = document.getElementById("timer");
    const scoreText = document.getElementById("score-text");

    const backgrounds = [
      "url('https://images.unsplash.com/photo-1555949963-aa79dcee981c?auto=format&fit=crop&w=1600&q=80')",
      "url('https://images.unsplash.com/photo-1581090700227-1e37b190418e?auto=format&fit=crop&w=1600&q=80')",
      "url('https://images.unsplash.com/photo-1504384308090-c894fdcc538d?auto=format&fit=crop&w=1600&q=80')",
      "url('https://images.unsplash.com/photo-1555066931-4365d14bab8c?auto=format&fit=crop&w=1600&q=80')",
      "url('https://images.unsplash.com/photo-1519389950473-47ba0277781c?auto=format&fit=crop&w=1600&q=80')"
    ];

    const questions = [
      {
        question: "What does HTML stand for?",
        options: ["Hyper Text Markup Language", "Home Tool Markup Language", "Hyperlinks and Text Marking Language", "Hyper Transfer Markup Language"],
        correct: 0
      },
      {
        question: "What does CSS stand for?",
        options: ["Creative Style Sheets", "Cascading Style Sheets", "Computer Style System", "Colorful Style Sheets"],
        correct: 1
      },
      {
        question: "Which programming language is used for web apps?",
        options: ["Python", "C++", "JavaScript", "Swift"],
        correct: 2
      },
      {
        question: "What does JS stand for?",
        options: ["Java Structure", "JavaScript", "Just Script", "Jungle Style"],
        correct: 1
      },
      {
        question: "Which HTML tag is used to display images?",
        options: ["<image>", "<img>", "<src>", "<pic>"],
        correct: 1
      }
    ];

    let currentQuestion = 0;
    let score = 0;
    let timeLeft = 15;
    let timer;

    document.getElementById("start-btn").addEventListener("click", () => {
      startScreen.classList.add("hidden");
      quizBox.classList.remove("hidden");
      document.body.classList.add("fade");
      loadQuestion();
    });

    document.getElementById("exit-btn").addEventListener("click", () => {
      alert("Thank you for visiting!");
      window.close();
    });

    document.getElementById("restart-btn").addEventListener("click", () => {
      resultScreen.classList.add("hidden");
      quizBox.classList.remove("hidden");
      currentQuestion = 0;
      score = 0;
      loadQuestion();
    });

    function loadQuestion() {
      clearInterval(timer);
      timeLeft = 15;
      timerDisplay.textContent = `‚è≥ ${timeLeft}s`;
      timer = setInterval(updateTimer, 1000);

      document.body.style.backgroundImage = backgrounds[currentQuestion % backgrounds.length];

      let q = questions[currentQuestion];
      questionNumber.textContent = `Question ${currentQuestion + 1} of ${questions.length}`;
      questionText.textContent = q.question;
      optionsDiv.innerHTML = "";

      q.options.forEach((opt, index) => {
        const btn = document.createElement("button");
        btn.className = "block w-full bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg font-medium";
        btn.textContent = opt;
        btn.addEventListener("click", () => checkAnswer(index, q.correct, btn));
        optionsDiv.appendChild(btn);
      });
    }

    function checkAnswer(selected, correct, btn) {
      clearInterval(timer);
      const buttons = optionsDiv.querySelectorAll("button");
      buttons.forEach((b, i) => {
        b.disabled = true;
        if (i === correct) {
          b.classList.remove("bg-white/20", "hover:bg-white/30");
          b.classList.add("bg-green-500");
        }
        if (i === selected && selected !== correct) {
          b.classList.remove("bg-white/20", "hover:bg-white/30");
          b.classList.add("bg-red-500");
        }
      });

      if (selected === correct) score++;

      setTimeout(() => {
        currentQuestion++;
        if (currentQuestion < questions.length) {
          loadQuestion();
        } else {
          showResult();
        }
      }, 2000);
    }

    function updateTimer() {
      timeLeft--;
      timerDisplay.textContent = `‚è≥ ${timeLeft}s`;
      if (timeLeft <= 0) {
        clearInterval(timer);
        const buttons = optionsDiv.querySelectorAll("button");
        buttons.forEach((b, i) => {
          b.disabled = true;
          if (i === questions[currentQuestion].correct) {
            b.classList.add("bg-green-500");
          }
        });
        setTimeout(() => {
          currentQuestion++;
          if (currentQuestion < questions.length) {
            loadQuestion();
          } else {
            showResult();
          }
        }, 2000);
      }
    }

    function showResult() {
      quizBox.classList.add("hidden");
      resultScreen.classList.remove("hidden");
      document.body.style.backgroundImage = "url('https://images.unsplash.com/photo-1519389950473-47ba0277781c?auto=format&fit=crop&w=1600&q=80')";
      scoreText.textContent = `You scored ${score} out of ${questions.length}!`;
    }
  </script>
</body>
</html>
